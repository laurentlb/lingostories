{"inkVersion":21,"root":[[{"->":"introduction"},["done",{"#f":5,"#n":"g-0"}],null],"done",{"buy":[{"temp=":"cost"},{"temp=":"item"},"ev",{"VAR?":"money"},{"VAR?":"cost"},">=","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"money"},{"VAR?":"cost"},"-",{"VAR=":"money","re":true},"/ev","ev",{"VAR?":"inventory"},{"VAR?":"item"},"+",{"VAR=":"inventory","re":true},"/ev","ev",true,"/ev","~ret",{"->":"buy.9"},null]}],[{"->":".^.b"},{"b":["\n","^It looks like you don't have enough money.","\n","ev",false,"/ev","~ret",{"->":"buy.9"},null]}],"nop","\n",{"#f":1}],"introduction":[["^It's Saturday afternoon.","\n","^You live in a village.","\n","^It's a bit cold outside.","\n","^So you play in your bedroom with your toys.","\n","^Your mum calls.","\n",[["ev","visit",2,"%","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^@mum Peter!",{"->":".^.^.17"},null],"s1":["pop","^@mum Peter, please come here.",{"->":".^.^.17"},null],"#f":5}],"\n","ev","str","^Leave the bedroom","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Keep playing","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["^ ",{"->":".^.^.^.^.downstairs"},"\n",{"#f":5}],"c-1":["\n","^You keep playing a few more minutes.","\n",{"->":".^.^"},{"#f":5}],"#f":5,"#n":"loop1"}],null],{"downstairs":[["^You leave the bedroom and see your mum.","\n","^@mum Can you please buy groceries for dinner?","\n","^@mum Granny is visiting, so it's important to get everything.","\n","^@mum I need you to buy 3 tomatoes, 4 eggs and 5 apples.","\n","^@mum You'll find everything in the supermarket.","\n","^@mum Here are 17 coins, it should be enough.","\n","ev",{"VAR?":"money"},17,"+",{"VAR=":"money","re":true},"/ev","^@mum Oh, and we also need bread!","\n",[["ev",{"^->":"introduction.downstairs.0.loop2.0.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-0","flg":18},{"s":["^@peter Can I stay home?",{"->":"$r","var":true},null]}],["ev",{"^->":"introduction.downstairs.0.loop2.1.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-1","flg":18},{"s":["^@peter How do I go to the supermarket?",{"->":"$r","var":true},null]}],["ev",{"^->":"introduction.downstairs.0.loop2.2.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-2","flg":18},{"s":["^@peter Can you repeat the grocery list?",{"->":"$r","var":true},null]}],["ev",{"^->":"introduction.downstairs.0.loop2.3.$r1"},{"temp=":"$r"},"str",{"->":".^.s"},[{"#n":"$r1"}],"/str","/ev",{"*":".^.^.c-3","flg":18},{"s":["^@peter Can I buy something for me?",{"->":"$r","var":true},null]}],"ev","str","^Leave","/str","/ev",{"*":".^.c-4","flg":20},{"c-0":["ev",{"^->":"introduction.downstairs.0.loop2.c-0.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.0.s"},[{"#n":"$r2"}],"\n","^@peter I'd like to play more.","\n","^@mum No, it's important to have food for dinner. You can play later.","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-1":["ev",{"^->":"introduction.downstairs.0.loop2.c-1.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.1.s"},[{"#n":"$r2"}],"\n","^@mum Go at the end of the street and turn right. It's on the main square.","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-2":["ev",{"^->":"introduction.downstairs.0.loop2.c-2.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.2.s"},[{"#n":"$r2"}],"\n","^@mum Sure. We need 3 tomatoes, 4 eggs, 5 apples, and bread.","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-3":["ev",{"^->":"introduction.downstairs.0.loop2.c-3.$r2"},"/ev",{"temp=":"$r"},{"->":".^.^.3.s"},[{"#n":"$r2"}],"\n","^@peter I'd like to get something sweet this afternoon.","\n","^@mum If you have enough coins, you can buy something for you.","\n","^@mum But first, please buy the food for dinner.","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-4":["^ ",{"->":"travel"},"\n",{"->":".^.^.^.g-0"},{"#f":5}],"#f":5,"#n":"loop2"}],{"g-0":[{"->":".^.^.loop2"},{"#f":5}]}],{"#f":1}],"#f":1}],"travel":[["^You leave the house.","\n","^It is sunny with a bit of wind.","\n","^It's not that cold.","\n","^You see kids playing in the park as you walk by.","\n","^You walk down the street until the end.","\n","^@peter Which way is it? I think I should go left now.","\n","ev","str","^Go left","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Go right","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ",{"->":"lost"},"\n",{"#f":5}],"c-1":["^ ",{"->":"main_square"},"\n",{"#f":5}]}],{"#f":1}],"lost":[[["ev","visit",3,"%","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"nop",{"s0":["pop","^After a few minutes, you find another crossroad.",{"->":".^.^.23"},null],"s1":["pop","^You feel lost and see another crossroad.",{"->":".^.^.23"},null],"s2":["pop","^Yet another crossroad? Where should I go?",{"->":".^.^.23"},null],"#f":5}],"\n",["ev","visit",2,"%","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^@peter Is it the street on the right? I'm not sure.",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n","ev","str","^Go left","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Go right","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^Go straight","/str","/ev",{"*":".^.c-2","flg":4},"ev","str","^Go back","/str","/ev",{"*":".^.c-3","flg":4},{"c-0":["^ ",{"->":"lost"},"\n",{"#f":5}],"c-1":["^ ",{"->":"lost"},"\n",{"#f":5}],"c-2":["^ ",{"->":"lost"},"\n",{"#f":5}],"c-3":["\n","^You decide to go back.","\n","^You are scared of getting lost.","\n","^But after a while, it starts feeling familiar.","\n",{"->":"main_square"},{"#f":5}]}],{"#f":1}],"main_square":[[["ev","visit",4,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"ev","du",2,"==","/ev",{"->":".^.s2","c":true},"ev","du",3,"==","/ev",{"->":".^.s3","c":true},"ev","du",4,"==","/ev",{"->":".^.s4","c":true},"nop",{"s0":["pop","^You reach the main square.",{"->":".^.^.35"},null],"s1":["pop","^There are many people on the main square.",{"->":".^.^.35"},null],"s2":["pop","^A street musician is playing guitar on the main square.",{"->":".^.^.35"},null],"s3":["pop","^On the main square, a group of tourists is taking photos of the old buildings.",{"->":".^.^.35"},null],"s4":["pop",{"->":".^.^.35"},null],"#f":5}],"\n",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^The supermarket is right in front of you.",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n","ev","str","^Go to the supermarket","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Go to the bakery","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^Go to the outdoor market","/str","/ev",{"*":".^.c-2","flg":4},"ev","str","^Look for your music teacher","/str",{"VAR?":"teacher"},{"VAR?":"inventory"},{"VAR?":"apples"},"?","!","&&","/ev",{"*":".^.c-3","flg":5},"ev","str","^Eat chocolate","/str",{"VAR?":"inventory"},{"VAR?":"chocolate"},"?","/ev",{"*":".^.c-4","flg":5},"ev","str","^Eat the pastry","/str",{"VAR?":"inventory"},{"VAR?":"pastry"},"?","/ev",{"*":".^.c-5","flg":5},"ev","str","^Go back home","/str",{"VAR?":"money"},16,"<",{"VAR?":"money"},1,">","&&","/ev",{"*":".^.c-6","flg":5},"ev","str","^Go back home","/str",{"VAR?":"money"},16,"<",{"VAR?":"money"},1,"<=","&&","/ev",{"*":".^.c-7","flg":5},{"c-0":["\n",{"->":"supermarket"},{"#f":5}],"c-1":["\n",{"->":"bakery"},{"#f":5}],"c-2":["\n",{"->":"market"},{"#f":5}],"c-3":["\n",{"->":"music_teacher"},{"#f":5}],"c-4":["\n","^The chocolate tastes delicious.","\n","ev",{"VAR?":"inventory"},{"VAR?":"chocolate"},"-",{"VAR=":"inventory","re":true},"/ev",{"->":".^.^.^"},{"#f":5}],"c-5":["\n","^The pastry is really good.","\n","ev",{"VAR?":"inventory"},{"VAR?":"pastry"},"-",{"VAR=":"inventory","re":true},"/ev",{"->":".^.^.^"},{"#f":5}],"c-6":["\n","^@peter I still have some coins to spend.","\n",["ev","str","^Go back home","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Stay","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ ",{"->":"home"},"\n",{"#f":5}],"c-1":["^ ",{"->":".^.^.^.^.^"},"\n",{"#f":5}]}],{"#f":5}],"c-7":["\n",{"->":"home"},{"#f":5}]}],{"#f":1}],"supermarket":[[["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^You enter the supermarket.",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^It's hard to find what you want.",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^An employee asks if you need help.",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n","^@employee What are you looking for?","\n",["ev","str","^Tomatoes","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Apples","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Eggs","/str",{"VAR?":"inventory"},{"VAR?":"eggs"},"?","!","/ev",{"*":".^.c-2","flg":5},"ev","str","^Bread","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Wine","/str","/ev",{"*":".^.c-4","flg":20},"ev","str","^Chocolate (2ðŸª™)","/str","/ev",{"*":".^.c-5","flg":20},"ev","str","^Leave","/str","/ev",{"*":".^.c-6","flg":4},{"c-0":["\n","^@employee Sorry, we're out of tomatoes.","\n","^@employee But they should have tomatoes on the market.","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-1":["\n","^@employee I don't know why everyone wants apples today.","\n","^@employee Unfortunately, we don't have any more.","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-2":["\n","^@employee How many eggs do you want?","\n",["ev","str","^4 eggs (4ðŸª™)","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^6 eggs (6ðŸª™)","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^12 eggs (9ðŸª™)","/str","/ev",{"*":".^.c-2","flg":20},{"c-0":["\n","ev",{"VAR?":"eggs"},4,{"f()":"buy"},"pop","/ev","\n",{"->":".^.^.^.^.^.g-0"},{"#f":5}],"c-1":["\n","ev",{"VAR?":"eggs"},6,{"f()":"buy"},"pop","/ev","\n",{"->":".^.^.^.^.^.g-0"},{"#f":5}],"c-2":["\n","ev",{"VAR?":"eggs"},9,{"f()":"buy"},"pop","/ev","\n",{"->":".^.^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"c-3":["\n","^@employee Unfortunately, we don't have bread anymore.","\n","^@employee But there's a bakery nearby.","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-4":["\n","^@employee How old are you?","\n",["ev","str","^10 years old","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Lie","/str","/ev",{"*":".^.c-1","flg":20},{"c-0":["^ @peter I am 10 years old.","\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["^ @peter I am... 11 years old!","\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":["^@employee Sorry, you're too young to buy wine.","\n",{"->":".^.^.^.^.^.g-0"},{"#f":5}]}],{"#f":5}],"c-5":["\n","ev",{"VAR?":"chocolate"},2,{"f()":"buy"},"pop","/ev","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-6":["\n","^You leave the supermarket.","\n",{"->":"main_square"},{"->":".^.^.^.g-0"},{"#f":5}],"#f":5,"#n":"loop"}],{"g-0":[{"->":".^.^.loop"},{"#f":5}]}],{"#f":1}],"bakery":[["^You enter the bakery.","\n",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^It smells like fresh bread",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^You see your favorite pastry.",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^The baker smiles at you.",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n","^@baker Hello Peter, what would you like?","\n",["ev","str","^Apples","/str",{"VAR?":"apples"},"!","/ev",{"*":".^.c-0","flg":21},"ev","str","^Pastry (2ðŸª™)","/str",{"VAR?":"inventory"},{"VAR?":"pastry"},"?","!","/ev",{"*":".^.c-1","flg":21},"ev","str","^Bigger pastry (4ðŸª™)","/str",{"VAR?":"inventory"},{"VAR?":"pastry"},"?","!","/ev",{"*":".^.c-2","flg":21},"ev","str","^Bread (3ðŸª™)","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Leave","/str","/ev",{"*":".^.c-4","flg":4},{"c-0":["\n","^Sorry, this is a bakery, we don't sell apples.","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-1":["\n","ev",{"VAR?":"pastry"},2,{"f()":"buy"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"treats"},1,"+",{"VAR=":"treats","re":true},"/ev","^@baker Enjoy!","\n",{"->":".^.^.^.7"},null]}],"nop","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-2":["\n","ev",{"VAR?":"pastry"},4,{"f()":"buy"},"/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"treats"},1,"+",{"VAR=":"treats","re":true},"/ev","^@baker Enjoy!","\n",{"->":".^.^.^.7"},null]}],"nop","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-3":["\n","ev",{"VAR?":"bread"},3,{"f()":"buy"},"pop","/ev","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-4":["\n","^@baker See you soon, Peter!","\n",{"->":"main_square"},{"->":".^.^.^.g-0"},{"#f":5}],"#f":5,"#n":"loop"}],{"g-0":[{"->":".^.^.loop"},{"#f":5}]}],{"#f":1}],"market":[["^@seller Hello Peter! What would you like today?","\n",["ev","str","^Apples","/str","/ev",{"*":".^.c-0","flg":20},"ev","str","^Pears (5ðŸª™)","/str","/ev",{"*":".^.c-1","flg":20},"ev","str","^Tomatoes","/str",{"VAR?":"inventory"},{"VAR?":"tomatoes"},"?","!","/ev",{"*":".^.c-2","flg":5},"ev","str","^Carrots (2ðŸª™)","/str","/ev",{"*":".^.c-3","flg":20},"ev","str","^Leave","/str","/ev",{"*":".^.c-4","flg":4},{"c-0":["\n","^@seller Sorry, we just sold the last apples to your music teacher.","\n","^Would you like pears instead?","\n","ev",true,"/ev",{"VAR=":"teacher","re":true},{"->":".^.^.^.g-0"},{"#f":5}],"c-1":["\n","ev",{"VAR?":"pears"},5,{"f()":"buy"},"pop","/ev","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-2":["\n","^@seller How many tomatoes do you want?","\n",["ev","str","^3","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^4","/str","/ev",{"*":".^.c-1","flg":4},"ev","str","^5","/str","/ev",{"*":".^.c-2","flg":4},{"c-0":["\n","^@seller Do you mean 3 tomatoes or 3 kilograms of tomatoes?","\n",["ev","str","^3 tomatoes (3ðŸª™)","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^3 kilograms of tomatoes (9ðŸª™)","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","ev",{"VAR?":"tomatoes"},3,{"f()":"buy"},"pop","/ev","\n",{"->":"market.0.g-0"},{"#f":5}],"c-1":["\n","ev",{"VAR?":"tomatoes"},9,{"f()":"buy"},"pop","/ev","\n",{"->":"market.0.g-0"},{"#f":5}]}],{"#f":5}],"c-1":["\n","ev",{"VAR?":"tomatoes"},4,{"f()":"buy"},"pop","/ev","\n",{"->":"market.0.g-0"},{"#f":5}],"c-2":["\n","ev",{"VAR?":"tomatoes"},5,{"f()":"buy"},"pop","/ev","\n",{"->":"market.0.g-0"},{"#f":5}]}],{"#f":5}],"c-3":["\n","ev",{"VAR?":"carrots"},2,{"f()":"buy"},"pop","/ev","\n",{"->":".^.^.^.g-0"},{"#f":5}],"c-4":["\n","^@seller See you soon!","\n",{"->":"main_square"},{"->":".^.^.^.g-0"},{"#f":5}],"#f":5,"#n":"loop"}],{"g-0":[{"->":".^.^.loop"},{"#f":5}]}],{"#f":1}],"music_teacher":[[["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^As you look around, you see your music teacher.",{"->":".^.^.17"},null],"s1":["pop","^Your music teacher is still here.",{"->":".^.^.17"},null],"#f":5}],"\n",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^She is holding a bag of apples.",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^She waves at you.",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n",["ev","visit",1,"MIN","/ev","ev","du",0,"==","/ev",{"->":".^.s0","c":true},"ev","du",1,"==","/ev",{"->":".^.s1","c":true},"nop",{"s0":["pop","^@teacher Hi Peter, what a surprise to see you here!",{"->":".^.^.17"},null],"s1":["pop",{"->":".^.^.17"},null],"#f":5}],"\n","ev","str","^Ask for apples","/str","/ev",{"*":".^.c-0","flg":4},"ev","str","^Leave","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","^@teacher I'll trade you these apples for some pears. Do you have any?","\n",["ev","str","^Yes","/str",{"VAR?":"inventory"},{"VAR?":"pears"},"?","/ev",{"*":".^.c-0","flg":21},"ev","str","^No","/str","/ev",{"*":".^.c-1","flg":4},{"c-0":["\n","ev",{"VAR?":"inventory"},{"VAR?":"pears"},"-",{"VAR=":"inventory","re":true},"/ev","ev",{"VAR?":"inventory"},{"list":{"items.apples":1}},"+",{"VAR=":"inventory","re":true},"/ev","^@teacher Great, I love pears too! Here are your apples.","\n","^@teacher See you on Monday, Peter!","\n",{"->":".^.^.g-0"},{"#f":5}],"c-1":["\n","^@teacher That's too bad. Maybe next time.","\n",{"->":".^.^.g-0"},{"#f":5}],"g-0":[{"->":"main_square"},{"#f":5}]}],{"#f":5}],"c-1":["\n",{"->":"main_square"},{"#f":5}]}],{"#f":1}],"home":["^You come back home. Your mum looks at your groceries.","\n","^She smiles.","\n","^@mum Let's see what you bought!","\n","ev",{"VAR?":"inventory"},{"VAR?":"apples"},"?","/ev",[{"->":".^.b","c":true},{"b":["\n","^@mum Great, you have the apples! I'll make an apple pie.","\n","ev",{"VAR?":"score"},10,"+",{"VAR=":"score","re":true},"/ev",{"->":"home.13"},null]}],[{"->":".^.b"},{"b":["\n",["ev",{"VAR?":"inventory"},{"VAR?":"pears"},"?","/ev",{"->":".^.b","c":true},{"b":["\n","^@mum No apples? Well, I can make a pear pie instead.","\n","ev",{"VAR?":"score"},5,"+",{"VAR=":"score","re":true},"/ev",{"->":".^.^.^.4"},null]}],["ev",{"VAR?":"inventory"},{"VAR?":"chocolate"},"?","/ev",{"->":".^.b","c":true},{"b":["\n","^@mum No apples or pears? I can use the chocolate to make a chocolate cake.","\n","ev",{"VAR?":"score"},5,"+",{"VAR=":"score","re":true},"/ev",{"->":".^.^.^.4"},null]}],[{"->":".^.b"},{"b":["\n","^@mum No fruit? So we won't have any dessert today.","\n",{"->":".^.^.^.4"},null]}],"nop","\n",{"->":"home.13"},null]}],"nop","\n","ev",{"VAR?":"inventory"},{"VAR?":"eggs"},"?","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"score"},5,"+","/ev",{"VAR=":"score","re":true},"^@mum Thank you for the eggs!","\n",{"->":"home.22"},null]}],[{"->":".^.b"},{"b":["\n","^@mum It looks like you forgot the eggs.","\n",{"->":"home.22"},null]}],"nop","\n","ev",{"VAR?":"inventory"},{"VAR?":"tomatoes"},"?","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"score"},5,"+",{"VAR=":"score","re":true},"/ev","^@mum Nice, you have the tomatoes!","\n",{"->":"home.31"},null]}],[{"->":".^.b"},{"b":["\n","^@mum Where are the tomatoes?","\n",{"->":"home.31"},null]}],"nop","\n","ev",{"VAR?":"inventory"},{"VAR?":"bread"},"?","/ev",[{"->":".^.b","c":true},{"b":["\n","ev",{"VAR?":"score"},5,"+",{"VAR=":"score","re":true},"/ev","^@mum The bread smells good.","\n",{"->":"home.40"},null]}],[{"->":".^.b"},{"b":["\n","^@mum You didn't buy bread?","\n",{"->":"home.40"},null]}],"nop","\n",["ev",{"VAR?":"score"},25,">=","/ev",{"->":".^.b","c":true},{"b":["\n","^Excellent job! You have got everything on the list!","\n","ev",{"VAR?":"treats"},0,"==","/ev",[{"->":".^.b","c":true},{"b":["\n","^But maybe you could have bought something for you?","\n",{"->":".^.^.^.10"},null]}],[{"->":".^.b"},{"b":["\n","^And you still had enough coins to buy something you liked.","\n",{"->":".^.^.^.10"},null]}],"nop","\n","^You mum smiles warmly.","\n","^@mum You did a great job, Peter. Thank you!","\n","^@mum After dinner, you can play with your toys again.","\n",{"->":"home.45"},null]}],["ev",{"VAR?":"score"},15,">","/ev",{"->":".^.b","c":true},{"b":["\n","^Good work! You got most of the items.","\n","^@mum It's not perfect, but you did well, Peter. Thank you!","\n",{"->":"home.45"},null]}],[{"->":".^.b"},{"b":["\n","^@mum Lots of things are missing.","\n","^@mum What are going to have for dinner?","\n","^@mum It's okay, Peter. I'm sure you'll do better next time.","\n",{"->":"home.45"},null]}],"nop","\n","end",{"#f":1}],"global decl":["ev",{"list":{},"origins":["items"]},{"VAR=":"items"},{"list":{}},{"VAR=":"inventory"},0,{"VAR=":"money"},false,{"VAR=":"teacher"},0,{"VAR=":"treats"},0,{"VAR=":"score"},"/ev","end",null],"#f":1}],"listDefs":{"items":{"apples":1,"pears":2,"tomatoes":3,"carrots":4,"chocolate":5,"eggs":6,"bread":7,"pastry":8}}}